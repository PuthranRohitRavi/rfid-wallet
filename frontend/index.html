<!DOCTYPE html>
<html>
<head>
  <title>Razorpay Test Payment</title>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>

<h2>RFID Wallet Recharge üí≥</h2>
<button onclick="payNow()">Pay ‚Çπ100</button>

<script>
async function payNow() {
  try {
    const response = await fetch("https://rfid-wallet.vercel.app/api/create-order", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ amount: 100 })
    });

    const order = await response.json();

    const options = {
      key: "rzp_test_SEstYyNNh2xWlu",  // ‚úÖ FIXED PREFIX
      amount: order.amount,
      currency: order.currency,
      name: "RFID Wallet",
      description: "Test Transaction",
      order_id: order.id,
      handler: function (response) {
        alert("Payment Successful üéâ");
        console.log(response);
      },
      theme: {
        color: "#3399cc"
      }
    };

    const rzp = new Razorpay(options);
    rzp.open();

  } catch (error) {
    alert("Payment Failed ‚ùå");
    console.error(error);
  }
}
</script>

</body>
</html>